<!doctype html>
<html class="no-js">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta name="viewport"
        content="width=device-width, initial-scale=1">
  <title>npc</title>

  <!-- Set render engine for 360 browser -->
  <meta name="renderer" content="webkit">

  <!-- No Baidu Siteapp-->
  <meta http-equiv="Cache-Control" content="no-siteapp"/>

<!--   <link rel="icon" type="image/png" href="../assets/i/favicon.png"> -->

  <!-- Add to homescreen for Chrome on Android -->
  <meta name="mobile-web-app-capable" content="yes">
<!--   <link rel="icon" sizes="192x192" href="../assets/i/app-icon72x72@2x.png"> -->

  <!-- Add to homescreen for Safari on iOS -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Amaze UI"/>
<!--   <link rel="apple-touch-icon-precomposed" href="../assets/i/app-icon72x72@2x.png"> -->

  <!-- Tile icon for Win8 (144x144 + tile color) -->
<!--   <meta name="msapplication-TileImage" content="../assets/i/app-icon72x72@2x.png"> -->
  <meta name="msapplication-TileColor" content="#0e90d2">

  <!-- SEO: If your mobile URL is different from the desktop URL, add a canonical link to the desktop page https://developers.google.com/webmasters/smartphone-sites/feature-phones -->
  <!--
  <link rel="canonical" href="http://www.example.com/">
  -->
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/bootstrap-table.css">
  <link rel="stylesheet" href="../assets/css/app.css">
</head>
<body class="npc npc-main npc-suggest">
<!-- 以上页面内容 开发时删除 -->

<!--[if lt IE 9]>
<script src="http://libs.baidu.com/jquery/1.11.1/jquery.min.js"></script>
<script src="http://cdn.staticfile.org/modernizr/2.8.3/modernizr.js"></script>
<script src="../assets/js/amazeui.ie8polyfill.min.js"></script>
<![endif]-->
<div id="npcTop" class="npc-main-cnt">
  <div class="npc-main-topLogo">
    <div class="npc-main-headerCnt">
        <ul class="npc-ul  npc-fr index-headerUl">
          <li>齐静:您好!</li>
          <li>代表</li>
          <li>退出</li>
        </ul>
    </div>
  </div>
  <div class="npc-main-navWrapper">
    <ul class="npc-ul npc-ul-fl npc-main-nav">
      <li><a href="#">网站首页</a></li>
      <li><a href="#" class="npc-nav-active">建议管理</a></li>
      <li><a href="#">代表库</a></li>
      <li><a href="#">承办单位库</a></li>
      <li><a href="#">资料库</a></li>
      <li><a href="#">交流区</a></li>
      <li><a href="#">通知公告</a></li>
    </ul>
  </div>
  <div class="npc-subnav">
    <ul class="list-inline main-nav">
      <li>
        <a href="http://www.baidu.com" target="_blank"><img src="../assets/i/subnav01.png"/></a>
      </li>
      <li>
        <a href="http://www.diditaxi.com" target="_blank"><img src="../assets/i/subnav02.png"/></a>
      </li>
      <li>
        <a href="http://www.jd.com" target="_blank"><img src="../assets/i/subnav03.png"/></a>
      </li>
      <li>
        <a href="http://www.baidu.com" target="_blank"><img src="../assets/i/subnav04.png"/></a>
      </li>
    </ul>
  </div>
  <div class="npc-indexM">
    <ul class="npc-breadcrumb">
      <li>您的位置:</li>
      <li><a href="#">首页  ></a></li>
      <li><a href="#">建议服务  ></a></li>
      <li><a href="#">建议提出</a></li>
    </ul>
    <div id="toolbar">
      <div class="btn-group bill-btns" role="group">
        <button type="button" class="btn btn-default active" data-fOption="all">我的全部建议(12)</button>
        <button type="button" class="btn btn-default" data-fOption="collect">征集复议的建议(2)</button>
        <button type="button" class="btn btn-default" data-fOption="final">正式提交的建议(4)</button>
      </div>
    </div>
      <!-- Modal -->
      <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
              <h4 class="modal-title" id="myModalLabel">新增议案</h4>
            </div>
            <div class="modal-body">
              <form class="form-horizontal">
                <div class="form-group">
                  <label for="inputEmail3" class="col-sm-2 control-label">用户名</label>
                  <div class="col-sm-10">
                    <input type="text" class="form-control" id="inputEmail3" placeholder="用户名">
                  </div>
                </div>
                <div class="form-group">
                  <label for="inputPassword3" class="col-sm-2 control-label">星数</label>
                  <div class="col-sm-10">
                    <input type="text" class="form-control" id="inputPassword3" placeholder="星数">
                  </div>
                </div>
                <div class="form-group">
                  <label for="inputPassword3" class="col-sm-2 control-label">Forks</label>
                  <div class="col-sm-10">
                    <input type="password" class="form-control" id="inputPassword3" placeholder="forks">
                  </div>
                </div>
                <div class="form-group">
                  <label for="inputPassword3" class="col-sm-2 control-label">描述</label>
                  <div class="col-sm-10">
                    <textarea  class="form-control" id="inputPassword3" placeholder="描述"></textarea>
                  </div>
                </div>
                <div class="form-group">
                  <div class="col-sm-offset-2 col-sm-10">
                    <button type="submit" class="btn btn-success">新增</button>
                  </div>
                </div>
              </form>
            </div>
            <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
          </div>
          </div>
        </div>
      </div>
      <div>
        <div class="npc-locationBack">
          <a href="newSuggest.html" target="_blank" class="btn btn-success" id="newBillBtn">
          <!-- <i class="glyphicon glyphicon-edit"></i>新增议案 -->
        </a>
        </div>
      </div>
      <table id="table"           class="table table-responsive"
          data-sort-order="desc"
          data-query-params="queryParams"
          data-pagination="true"
          data-search="true"
          data-refresh="true"
          data-click-to-select="true"
          data-width="2000"
          data-height="500"
          data-show-columns="true"
          data-show-toggle="true"
          data-toolbar="#toolbar"
          >
      </table>
  </div>
    <div class="npc-copyright">
      Copyright © 2015版权所有 北京市人民代表大会
    </div>
  </div>
  <div class="npc-gotop gotop1">
    <a href="#npcTop">
      <img src="../assets/i/top01.png"/>
    </a>
  </div>
  <div class="npc-gotop gotop2">
    <a href="suggest.html" target="_blank">
      <img src="../assets/i/top02.png"/>
    </a>
</div>
  <script charset="utf-8" src="../assets/js/jquery.min.js"></script>
        <script charset="utf-8" src="../assets/js/bootstrap.js"></script>
        <script charset="utf-8" src="../assets/js/bootstrap-table.js"></script>
        <script charset="utf-8" src="../assets/js/components/extensions/export/bootstrap-table-export.js"></script>
        <script charset="utf-8" src="../assets/js/components/extensions/filter/bootstrap-table-filter.js"></script>
        <script src="../assets/js/components/extensions/mobile/bootstrap-table-mobile.js"></script>
        <script charset="utf-8">
         var npcBill = npcBill || {};
         npcBill['data'] = [
          {
            "name": "bootstrap-table",
            "stargazers_count": "526",
            "forks_count": "122",
            "description": "An extended Bootstrap table with radio, checkbox, sort, pagination, and other added features. (supports twitter bootstrap v2 and v3) "
          },
          {
            "name": "multiple-select",
            "stargazers_count": "288",
            "forks_count": "150",
            "description": "A jQuery plugin to select multiple elements with checkboxes :)"
          },
          {
            "name": "bootstrap-show-password",
            "stargazers_count": "32",
            "forks_count": "11",
            "description": "Show/hide password plugin for twitter bootstrap."
          },
          {
            "name": "blog",
            "stargazers_count": "13",
            "forks_count": "4",
            "description": "my blog"
          },
          {
            "name": "scutech-redmine",
            "stargazers_count": "6",
            "forks_count": "3",
            "description": "Redmine notification tools for chrome extension."
          },
          {
            "name": "bootstrap-table",
            "stargazers_count": "526",
            "forks_count": "122",
            "description": "An extended Bootstrap table with radio, checkbox, sort, pagination, and other added features. (supports twitter bootstrap v2 and v3) "
          },
          {
            "name": "multiple-select",
            "stargazers_count": "288",
            "forks_count": "150",
            "description": "A jQuery plugin to select multiple elements with checkboxes :)"
          },
          {
            "name": "bootstrap-show-password",
            "stargazers_count": "32",
            "forks_count": "11",
            "description": "Show/hide password plugin for twitter bootstrap."
          },
          {
            "name": "blog",
            "stargazers_count": "13",
            "forks_count": "4",
            "description": "my blog"
          },
          {
            "name": "scutech-redmine",
            "stargazers_count": "6",
            "forks_count": "3",
            "description": "Redmine notification tools for chrome extension."
          },
          {
            "name": "bootstrap-table",
            "stargazers_count": "526",
            "forks_count": "122",
            "description": "An extended Bootstrap table with radio, checkbox, sort, pagination, and other added features. (supports twitter bootstrap v2 and v3) "
          },
          {
            "name": "multiple-select",
            "stargazers_count": "288",
            "forks_count": "150",
            "description": "A jQuery plugin to select multiple elements with checkboxes :)"
          }
          ];
          function nameFormatter(value, row,index) {
            return index+1;
          }
        var $table = $('#table'),$button = $('#button');
        var $refreshBtn = $('#refreshBtn');
        var $newBillBtn = $('#newBillBtn');
        $(function () {
          $table.bootstrapTable({
              data: npcBill['data'],
              onDblClickCell: function(field, value, row, $element) {
                console.log(field, value, row, $element);
              },
              onCheck: function(row,el) {
                console.log(row,el);
              },
              columns: [{
                'field': 'state',
                'title': '选择',
                'checkbox': 'true'
              },{
                'field': 'id',
                'title': '序号',
                'formatter': 'nameFormatter',
                'sortable': 'true'
              },
              {
                'field': 'name',
                'title': '用户名',
                'sortable': 'true'
              },{
                'field': 'stargazers_count',
                'title': '星数',
                'sortable': 'true'
              }
              ,{
                'field': 'description',
                'title': '描述',
                'sortable': 'true'
              }]
          });
        });
        $(function () {
          $refreshBtn.click(function () {
             $table.bootstrapTable('refresh');
          });
          $('.bill-btns').each(function() {
            $(this).click(function(e) {
              $('.bill-btns').find('button').removeClass('active');
              $(e.target).toggleClass('active');
              console.log(e.target.dataset.foption);
              switch(e.target.dataset.foption) {
                case 'all':
                  $.ajax({
                      type:'GET',
                      url: 'assets/data/all.json',
                      dataType: 'json',
                      success: function(json) {
                        console.log(json);
                        npcBill['data'] = json['rows'];
                        $table.bootstrapTable('load',  npcBill['data']);
                      },
                      error: function() {
                        console.log('error');
                      }
                    });
                  break;
                case 'collect':
                  $.ajax({
                    type:'GET',
                    url: 'assets/data/data.json',
                    dataType: 'json',
                    success: function(json) {
                      console.log(json);
                      npcBill['data'] = json['rows'];
                      $table.bootstrapTable('load', npcBill['data']);
                    },
                    error: function() {
                      console.log('error');
                    }
                  });
                break;
               case 'final':
                $.ajax({
                    type:'GET',
                    url: 'assets/data/suggest.json',
                    dataType: 'json',
                    success: function(json) {
                      console.log(json);
                      npcBill['data'] = json['rows'];
                      $table.bootstrapTable('load', npcBill['data']);
                    },
                    error: function() {
                      console.log('error');
                    }
                  });
                break;
              default:
               break;
              }
            });
          })
        });
        var $w = $(window).width();
        // $('#newBillBtn').click(function() {
        //   var $w = $(document).width();
        //   window.open('newsuggest.html',"",'height=600,width=1000,top=200,left='+($w/2-400)+','+'toolbar=no,menubar=yes,scrollbars=no, resizable=no,location=no, status=no');
        // });
      </script>
</body>
</html>
